webpackJsonp([4],{"75l9":function(e,t){e.exports={_from:"axios@^0.21.1",_id:"axios@0.21.4",_inBundle:!1,_integrity:"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==",_location:"/axios",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"axios@^0.21.1",name:"axios",escapedName:"axios",rawSpec:"^0.21.1",saveSpec:null,fetchSpec:"^0.21.1"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz",_shasum:"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575",_spec:"axios@^0.21.1",_where:"D:\\UA\\2021S2\\SEP\\SEP-CONT8",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/axios/axios/issues"},bundleDependencies:!1,bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}],dependencies:{"follow-redirects":"^1.14.0"},deprecated:!1,description:"Promise based HTTP client for the browser and node.js",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},homepage:"https://axios-http.com",jsdelivr:"dist/axios.min.js",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/axios/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",fix:"eslint --fix lib/**/*.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./index.d.ts",unpkg:"dist/axios.min.js",version:"0.21.4"}},IcnI:function(e,t,r){"use strict";var s=r("mvHQ"),a=r.n(s),n=r("7+uW"),o=r("NYxO");n.default.use(o.a),t.a=new o.a.Store({state:{token:sessionStorage.getItem("token"),user:JSON.parse(sessionStorage.getItem("user"))},mutations:{SET_TOKENN:function(e,t){e.token=t,sessionStorage.setItem("token",t)},SET_USER:function(e,t){e.user=t,sessionStorage.setItem("user",a()(t))},REMOVE_INFO:function(e){e.token="",e.user={},sessionStorage.setItem("token",""),sessionStorage.setItem("user",a()(""))}},getters:{},actions:{},modules:{}})},L3Pw:function(e,t){},M7Un:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var n=r("VU/8")({name:"App"},a,!1,function(e){r("L3Pw")},null,null).exports,o=r("/ocq"),i={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"demo"}},[this._v("\n 你好\n")])},staticRenderFns:[]};r("VU/8")({name:"HelloWorld",data:function(){return{msg:"Hello Vue!"}},computed:{userName:function(){return this.$store.state.user.userName}}},i,!1,function(e){r("VybQ")},"data-v-6df3ed37",null).exports;var l=r("vMJZ"),u={name:"Login",data:function(){return{loginForm:{username:"",password:""},rule:{username:[{required:!0,message:"please enter your username",trigger:"blur"},{validator:function(e,t,r){validUsername(t)?r():r(new Error("please enter a valid username"))},trigger:"blur"}],password:[{required:!0,message:"please enter your password",trigger:"blur"},{validator:function(e,t,r){t.length<6?r(new Error("please enter a valid password, not less than 6 characters")):r()},trigger:"blur"}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{}}},methods:{register:function(){this.$router.push({path:"/register"})},login:function(){var e=this;Object(l.e)({loginName:this.loginForm.loginName,password:this.loginForm.password}).then(function(t){if("200"===t.data.code){console.log(t.data.code);e.$route.query.redirect;e.$router.push({path:"/index"})}else alert(t.data.msg)})}}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("body",{attrs:{id:"login-page"}},[r("el-form",{ref:"loginForm",staticClass:"login-container",attrs:{model:e.loginForm,rules:e.loginRules,"label-position":"left","label-width":"0px"}},[r("h3",{staticClass:"login_title"},[e._v("Log in")]),e._v(" "),r("el-form-item",[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"Username"},model:{value:e.loginForm.loginName,callback:function(t){e.$set(e.loginForm,"loginName",t)},expression:"loginForm.loginName"}})],1),e._v(" "),r("el-form-item",[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"Password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%",border:"none"},attrs:{type:"primary"},on:{click:e.login}},[e._v("Login")])],1),e._v(" "),r("el-button",{staticStyle:{width:"100%",border:"none"},attrs:{type:"primary"},on:{click:e.register}},[e._v("Register")])],1)],1)},staticRenderFns:[]};var d=r("VU/8")(u,c,!1,function(e){r("yGZn")},"data-v-a6aec778",null).exports,m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticClass:"home-container"},[s("el-header",{staticStyle:{"margin-right":"15px",width:"100%"}},[s("span",{staticClass:"nav-logo"},[s("img",{attrs:{src:r("dLd/")}})]),e._v(" "),s("span",{staticClass:"head-title"},[e._v("CONT8 ONLINE BOOKSHOP")])]),e._v(" "),s("el-container",[s("el-aside",{attrs:{width:"13%"}},[s("el-menu",{attrs:{"default-active":e.$route.path,router:"","text-color":"black","active-text-color":"red"}},e._l(e.navList,function(t,r){return s("el-menu-item",{key:r,attrs:{index:t.name}},[s("i",{class:t.icon}),e._v("\n          "+e._s(t.title)+"\n        ")])}),1)],1),e._v(" "),s("el-main",[s("router-view")],1)],1)],1)},staticRenderFns:[]};var p=r("VU/8")({name:"Home",data:function(){return{navList:[{name:"/index",title:"Home",icon:"el-icon-s-home"},{name:"/user",title:"Users",icon:"el-icon-s-custom"},{name:"/book",title:"Books",icon:"el-icon-collection"}]}}},m,!1,function(e){r("M7Un")},null,null).exports,g=r("mtWM"),h=r.n(g),f={name:"Register",data:function(){var e=this,t=/(?!^(\d+|[a-zA-Z]+|[~!@#$%^&*?]+)$)^[\w~!@#$%^&*?]{6,12}$/;return{user:{username:"",email:"",password:""},rule:{username:[{required:!0,message:"please put in your user name",trigger:"blur"},{min:2,max:10,message:"length between 2 and 10",trigger:"blur"},{required:!0,pattern:/^[\u4e00-\u9fa5_a-zA-Z0-9.·-]+$/,message:"Name does not support special characters",trigger:"blur"}],email:[{required:!0,message:"please put in your email address"},{validator:function(e,t,r){var s=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!t)return r(new Error("email address can not be empty"));setTimeout(function(){s.test(t)?r():r(new Error("please enter the right email address"))},100)},trigger:"blur"}],password:[{required:!0,message:"please enter your new password",trigger:"blur"},{validator:function(r,s,a){t.test(s)?e.form.oldPasswd===s?a(new Error("new password can not same with the old one！")):a():a(new Error("the password must be between 6 and 12 characters or numbers"))},trigger:"blur"}]}}},created:function(){},methods:{login:function(){this.$router.push({path:"/login"})},doRegister:function(){var e=this;if(this.user.username)if(this.user.email){if(null!=this.user.email){if(/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.user.email)){if(!this.user.password)return void this.$message.error("Please put in your password");h.a.post("/enroll",{loginName:this.user.username,email:this.user.email,password:this.user.password}).then(function(t){console.log("输出response.data",t.data),"200"===t.data.code?(e.$router.push({path:"/login"}),alert("Signed up! Back to Login!")):alert("Exist User！")})}else this.$message.error("Please put in your email")}}else this.$message.error("Please put in your email");else this.$message.error("Please put in your username")}}},v={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login clearfix"},[r("div",{staticClass:"login-wrap"},[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-form",{staticClass:"login-container",attrs:{"label-position":"left","label-width":"0px",rules:"registerRules"}},[r("h3",[e._v("Sign Up\n        ")]),e._v(" "),r("hr"),e._v(" "),r("el-form-item",{attrs:{prop:"username",label:"Username"}},[r("el-input",{attrs:{placeholder:"User Name"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"email",label:"Email"}},[r("el-input",{attrs:{placeholder:"Email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password",label:"Password"}},[r("el-input",{attrs:{"show-password":"",placeholder:"Password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:""},on:{click:function(t){return e.doRegister()}}},[e._v("Register")])],1),e._v(" "),r("el-button",{attrs:{type:"primary",icon:""},on:{click:function(t){return e.login()}}},[e._v("Back to login")])],1)],1)],1)])},staticRenderFns:[]};var b=r("VU/8")(f,v,!1,function(e){r("k9lx")},"data-v-c358641e",null).exports;s.default.use(o.a);var w=new o.a({mode:"history",routes:[{path:"/",name:"Default",redirect:"/login",component:p},{path:"/home",name:"Home",component:p,meta:{requireAuth:!0},redirect:"/index",children:[{path:"/index",name:"Index",component:function(){return r.e(2).then(r.bind(null,"KR8f"))},meta:{requireAuth:!0}},{path:"/user",name:"User",component:function(){return r.e(0).then(r.bind(null,"md3T"))},meta:{requireAuth:!0}},{path:"/book",name:"Book",component:function(){return r.e(1).then(r.bind(null,"PzE1"))},meta:{requireAuth:!0}}]},{path:"/login",name:"Login",component:d},{path:"/register",name:"Register",component:b},{path:"/user",name:"User",component:function(){return r.e(0).then(r.bind(null,"md3T"))},meta:{requireAuth:!0}}]});w.beforeEach(function(e,t,r){r()});var x=w,_=r("zL8q"),k=r.n(_),y=(r("tvR6"),r("IcnI")),j=r("mtWM");s.default.prototype.$axios=j,j.defaults.baseURL="http://localhost:8088/",s.default.config.productionTip=!1,s.default.use(k.a),x.beforeEach(function(e,t,r){e.meta.requireAuth?y.a.state.token?r():r({path:"login",query:{redirect:e.fullPath}}):r()}),new s.default({el:"#app",router:x,store:y.a,components:{App:n},template:"<App/>"})},VybQ:function(e,t){},"dLd/":function(e,t,r){e.exports=r.p+"static/img/logo.de15900.png"},k9lx:function(e,t){},tvR6:function(e,t){},vLgD:function(e,t,r){"use strict";var s=r("mtWM"),a=r.n(s),n=(r("IcnI"),a.a.create({baseURL:Object({NODE_ENV:"production"}).BASE_API}));t.a=n},vMJZ:function(e,t,r){"use strict";t.e=function(e){return Object(s.a)({url:"/login",method:"post",data:e})},t.d=function(e){return Object(s.a)({url:"user/list",method:"post",data:e})},t.a=function(e){return Object(s.a)({url:"user/add",method:"post",data:e})},t.f=function(e){return Object(s.a)({url:"user/update",method:"post",data:e})},t.c=function(e){return Object(s.a)({url:"user/delete/"+e,method:"post",id:e})},t.b=function(e){return Object(s.a)({url:"user/delete/batch",method:"post",data:e})};var s=r("vLgD")},yGZn:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.dec8d47fa70a858abc54.js.map